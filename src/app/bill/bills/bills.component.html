<div class="background">
  <app-nav-bar />
  <div class="mat">
      <app-list-mon-year (dates)="recibirDatoDelHijo($event)"/>
      <mat-accordion >
        @for (comercio of comercios; track $index) {
          <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
                
              <mat-panel-title>
                {{comercio.razon}}
              </mat-panel-title>
              <mat-panel-description>
                <p>Nro facturas: {{ comercio.factura.length }}</p>
              </mat-panel-description>
              <mat-panel-description>
                <p>Total todas las facturas: </p>          
              </mat-panel-description>
            </mat-expansion-panel-header>
            <ng-template matExpansionPanelContent>
                <mat-list>
                  @for (factura of comercio.factura; track $index) {
                    <mat-list-item>
                      <h3 matListItemTitle>Nro factura {{factura.numeroFactura}}</h3>
                      <p matListItemMeta > Fecha: {{factura.fecha}}</p>
                      <p matListItemMeta > total factura: {{factura.total}}</p>
                      <app-dialog-detalle matListItemMeta/>
                    </mat-list-item>
                  }
                </mat-list> 
            </ng-template>  
          </mat-expansion-panel>

        }
        
      </mat-accordion>
  </div>
</div>



